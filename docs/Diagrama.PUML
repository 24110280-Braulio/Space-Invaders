@startuml SpaceInvaders

' Clases principales
class Game {
    - tabletop: Tabletop
    - pacFight: PacFight
    - playerHealth: PlayerHealth
    - enemyManager: EnemyManager
    - enemyMovementManager: EnemyMovementManager
    - enemyHealthManager: EnemyHealthManager
    - enemyShooter: EnemyShooter
    - barrier: Barrier
    - boss: Boss
    + EjecutarPrincipal()
}

class Tabletop {
    - enemyManager: EnemyManager
    - enemyMovementManager: EnemyMovementManager
    - enemyHealthManager: EnemyHealthManager
    - enemyShooter: EnemyShooter
    - barrier: Barrier
    - boss: Boss
    - playerHealth: PlayerHealth
    + Inicializar()
    + Renderizar()
    + Actualizar()
    + AgregarEntidad(Enemy)
    + RemoverEntidad(Enemy)
    + VerificarColisiones()
    + ObtenerEntidades()
    + ProcesarEntrada(entrada)
}

class PacFight {
    - enemyManager: EnemyManager
    - playerHealth: PlayerHealth
    + Inicializar()
    + Actualizar()
    + ProcesarEntrada(entrada)
    + VerificarColisiones()
}

class EnemyManager
class EnemyMovementManager
class EnemyHealthManager
class EnemyShooter
class Barrier
class Boss
class PlayerHealth

class EnemySprite as "enemy.png"
class BossSprite as "boss.png"
class BarrierSprite as "barrier.png"
class BulletSprite as "bullet.png"

' Relaciones
Game --> Tabletop
Game --> PacFight
Game --> PlayerHealth
Game --> EnemyManager
Game --> EnemyMovementManager
Game --> EnemyHealthManager
Game --> EnemyShooter
Game --> Barrier
Game --> Boss

Tabletop --> EnemyManager
Tabletop --> EnemyMovementManager
Tabletop --> EnemyHealthManager
Tabletop --> EnemyShooter
Tabletop --> Barrier
Tabletop --> Boss
Tabletop --> PlayerHealth

PacFight --> EnemyManager
PacFight --> PlayerHealth

Player "1" *-- "1" PlayerHealth : utiliza
EnemyManager "1" *-- "*" EnemySprite : controla
Boss "1" *-- "1" BossSprite : utiliza
Barrier "1" *-- "1" BarrierSprite : utiliza
EnemyShooter "1" *-- "1" BulletSprite : utiliza

@enduml